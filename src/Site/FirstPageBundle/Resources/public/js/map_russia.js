var names1='';var names2='';var path1='<svg id="svg_east" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="250 0 900 600">';var path2='<svg id="svg_west" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500" version="1.1"><path onclick="get_page(\'/moskva\')" d="m 131.37415,256.65025 -2.95954,-0.98652 -3.94606,0.98652 -0.98651,3.94605 0.98651,2.95955 3.94606,1.97303 2.95954,-1.97303 1.97303,-2.95955 -1.97303,-3.94605 z" fill="#d9534f" stroke="#fff" stroke-width="1"><title>Москва</title></path><path onclick="get_page(\'/sankt-peterburg\')" d="m 136.30673,181.67516 -2.95955,-0.98651 -3.94605,0.98651 -0.98652,3.94606 0.98652,2.95954 3.94605,1.97303 2.95955,-1.97303 1.97302,-2.95954 -1.97302,-3.94606 z" fill="#d9534f" stroke="#fff" stroke-width="1"><title>Санкт-Петербург</title></path>';$.ajax({url:"/all_areas_map.json",success:function(data){$.each(data[2],function(index,value){path2+='<path onclick="get_page(\'/'+value.alias+'\')" onmouseover="set_a('+value.id+')" onmouseout="unset_a('+value.id+')" class="im_area" id="img_area_'+value.id+'" d="'+value.path+'" fill="#5cb85c" stroke="#fff" stroke-width="1"><title>'+value.name+'</title></path>';names2+='<div class="padding-5"><span class="link" id="a_area_'+value.id+'" data-id="'+value.id+'" onclick="get_page(\'/'+value.alias+'\')" title="Объявления '+value.pagetitle+'">'+value.name+'</span></div>';});path2+='</svg>';$('#map_west').html(path2);$('#west_names').html(names2);$.each(data[1],function(index,value){path1+='<path onclick="get_page(\'/'+value.alias+'\')" onmouseover="set_a('+value.id+')" onmouseout="unset_a('+value.id+')" class="im_area" id="img_area_'+value.id+'" d="'+value.path+'" fill="#5cb85c" stroke="#fff" stroke-width="1"><title>'+value.name+'</title></path>';names1+='<div class="padding-5"><span class="link" id="a_area_'+value.id+'" data-id="'+value.id+'" onclick="get_page(\'/'+value.alias+'\')" title="Объявления '+value.pagetitle+'">'+value.name+'</span></div>';});path1+='</svg>';$('#map_east').html(path1);$('#east_names').html(names1);}});$(document).on("mouseenter",".towns span",function(){var id=$(this).data('id');$('#img_area_'+id).attr('fill','#0275d8');});$(document).on("mouseleave",".towns span",function(){var id=$(this).data('id');$('#img_area_'+id).attr('fill','#5cb85c');});$(document).on("mouseenter",".towns_s span",function(){var id=$(this).data('id');$('#img_area_'+id).attr('fill','#0275d8');});$(document).on("mouseleave",".towns_s span",function(){var id=$(this).data('id');$('#img_area_'+id).attr('fill','#5cb85c');});function set_a(id){$('#a_area_'+id).addClass('link_hover');}
function unset_a(id){$('#a_area_'+id).removeClass('link_hover');}